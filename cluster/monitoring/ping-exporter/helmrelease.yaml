---
apiVersion: helm.toolkit.fluxcd.io/v2beta1
kind: HelmRelease
metadata:
  name: ping-exporter
  namespace: monitoring
spec:
  interval: 5m
  chart:
    spec:
      # renovate: registryUrl=https://raw.githubusercontent.com/czerwonk/ping_exporter/main/dist/charts/
      chart: ping-exporter
      version: 10.3.3
      sourceRef:
        kind: HelmRepository
        name: ping-exporter-charts
        namespace: flux-system
      interval: 5m
  values:
    image:
      repository: czerwonk/ping_exporter
      tag: "0.4.8"
    service:
      type: ClusterIP
      port: 9427
      annotations:
        prometheus.io/scrape: "true"
        prometheus.io/port: "9427"
